{"ast":null,"code":"var _jsxFileName = \"/Users/codychand/Documents/GitHub/ISSP/BCIT_nb_iot/BCIT_nb_iot_forked/vertical/src/containers/charts/knob/Knob.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Knob extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getArcToValue = v => {\n      let startAngle;\n      let endAngle;\n      const angle = !this.props.log ? (v - this.props.min) * this.angleArc / (this.props.max - this.props.min) : Math.log(Math.pow(v / this.props.min, this.angleArc)) / Math.log(this.props.max / this.props.min);\n\n      if (!this.props.clockwise) {\n        startAngle = this.endAngle + 0.00001;\n        endAngle = startAngle - angle - 0.00001;\n      } else {\n        startAngle = this.startAngle - 0.00001;\n        endAngle = startAngle + angle + 0.00001;\n      }\n\n      if (this.props.cursor) {\n        startAngle = endAngle - this.cursorExt;\n        endAngle += this.cursorExt;\n      }\n\n      return {\n        startAngle,\n        endAngle,\n        acw: !this.props.clockwise && !this.props.cursor\n      };\n    };\n\n    this.getCanvasScale = ctx => {\n      const devicePixelRatio = window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI || // IE10\n      1;\n      const backingStoreRatio = ctx.webkitBackingStorePixelRatio || 1;\n      return devicePixelRatio / backingStoreRatio;\n    };\n\n    this.coerceToStep = v => {\n      let val = !this.props.log ? ~~((v < 0 ? -0.5 : 0.5) + v / this.props.step) * this.props.step : Math.pow(this.props.step, ~~((Math.abs(v) < 1 ? -0.5 : 0.5) + Math.log(v) / Math.log(this.props.step)));\n      val = Math.max(Math.min(val, this.props.max), this.props.min);\n\n      if (isNaN(val)) {\n        val = 0;\n      }\n\n      return Math.round(val * 1000) / 1000;\n    };\n\n    this.eventToValue = e => {\n      const bounds = this.canvasRef.getBoundingClientRect();\n      const x = e.clientX - bounds.left;\n      const y = e.clientY - bounds.top;\n      let a = Math.atan2(x - this.w / 2, this.w / 2 - y) - this.angleOffset;\n\n      if (!this.props.clockwise) {\n        a = this.angleArc - a - 2 * Math.PI;\n      }\n\n      if (this.angleArc !== Math.PI * 2 && a < 0 && a > -0.5) {\n        a = 0;\n      } else if (a < 0) {\n        a += Math.PI * 2;\n      }\n\n      const val = !this.props.log ? a * (this.props.max - this.props.min) / this.angleArc + this.props.min : Math.pow(this.props.max / this.props.min, a / this.angleArc) * this.props.min;\n      return this.coerceToStep(val);\n    };\n\n    this.handleMouseDown = e => {\n      this.props.onChange(this.eventToValue(e));\n      document.addEventListener('mousemove', this.handleMouseMove);\n      document.addEventListener('mouseup', this.handleMouseUp);\n      document.addEventListener('keyup', this.handleEsc);\n    };\n\n    this.handleMouseMove = e => {\n      e.preventDefault();\n      this.props.onChange(this.eventToValue(e));\n    };\n\n    this.handleMouseUp = e => {\n      this.props.onChangeEnd(this.eventToValue(e));\n      document.removeEventListener('mousemove', this.handleMouseMove);\n      document.removeEventListener('mouseup', this.handleMouseUp);\n      document.removeEventListener('keyup', this.handleEsc);\n    };\n\n    this.handleTouchStart = e => {\n      e.preventDefault();\n      this.touchIndex = e.targetTouches.length - 1;\n      this.props.onChange(this.eventToValue(e.targetTouches[this.touchIndex]));\n      document.addEventListener('touchmove', this.handleTouchMove, {\n        passive: false\n      });\n      document.addEventListener('touchend', this.handleTouchEnd);\n      document.addEventListener('touchcancel', this.handleTouchEnd);\n    };\n\n    this.handleTouchMove = e => {\n      e.preventDefault();\n      this.props.onChange(this.eventToValue(e.targetTouches[this.touchIndex]));\n    };\n\n    this.handleTouchEnd = e => {\n      this.props.onChangeEnd(this.eventToValue(e));\n      document.removeEventListener('touchmove', this.handleTouchMove);\n      document.removeEventListener('touchend', this.handleTouchEnd);\n      document.removeEventListener('touchcancel', this.handleTouchEnd);\n    };\n\n    this.handleEsc = e => {\n      if (e.keyCode === 27) {\n        e.preventDefault();\n        this.handleMouseUp();\n      }\n    };\n\n    this.handleTextInput = e => {\n      const val = Math.max(Math.min(+e.target.value, this.props.max), this.props.min) || this.props.min;\n      this.props.onChange(val);\n    };\n\n    this.handleWheel = e => {\n      e.preventDefault();\n\n      if (e.deltaX > 0 || e.deltaY > 0) {\n        this.props.onChange(this.coerceToStep(!this.props.log ? this.props.value + this.props.step : this.props.value * this.props.step));\n      } else if (e.deltaX < 0 || e.deltaY < 0) {\n        this.props.onChange(this.coerceToStep(!this.props.log ? this.props.value - this.props.step : this.props.value / this.props.step));\n      }\n    };\n\n    this.handleArrowKey = e => {\n      if (e.keyCode === 37 || e.keyCode === 40) {\n        e.preventDefault();\n        this.props.onChange(this.coerceToStep(!this.props.log ? this.props.value - this.props.step : this.props.value / this.props.step));\n      } else if (e.keyCode === 38 || e.keyCode === 39) {\n        e.preventDefault();\n        this.props.onChange(this.coerceToStep(!this.props.log ? this.props.value + this.props.step : this.props.value * this.props.step));\n      }\n    };\n\n    this.inputStyle = () => ({\n      width: \"\".concat(this.w / 2 + 4 >> 0, \"px\"),\n      height: \"\".concat(this.w / 3 >> 0, \"px\"),\n      position: 'absolute',\n      verticalAlign: 'middle',\n      marginTop: \"\".concat(this.w / 3 >> 0, \"px\"),\n      marginLeft: \"-\".concat(this.w * 3 / 4 + 2 >> 0, \"px\"),\n      border: 0,\n      background: 'none',\n      font: \"\".concat(this.props.fontWeight, \" \").concat(this.w / this.digits >> 0, \"px \").concat(this.props.font),\n      textAlign: 'center',\n      color: this.props.inputColor || this.props.fgColor,\n      padding: '0px',\n      WebkitAppearance: 'none'\n    });\n\n    this.renderCenter = () => {\n      const _this$props = this.props,\n            displayCustom = _this$props.displayCustom,\n            displayInput = _this$props.displayInput,\n            disableTextInput = _this$props.disableTextInput,\n            readOnly = _this$props.readOnly,\n            value = _this$props.value;\n\n      if (displayInput) {\n        return React.createElement(\"input\", {\n          style: this.inputStyle(),\n          type: \"text\",\n          value: value,\n          onChange: this.handleTextInput,\n          onKeyDown: this.handleArrowKey,\n          readOnly: readOnly || disableTextInput,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 321\n          },\n          __self: this\n        });\n      } else if (displayCustom && typeof displayCustom === 'function') {\n        return displayCustom();\n      }\n\n      return null;\n    };\n\n    this.w = this.props.width || 200;\n    this.h = this.props.height || this.w;\n    this.cursorExt = this.props.cursor === true ? 0.3 : this.props.cursor / 100;\n    this.angleArc = this.props.angleArc * Math.PI / 180;\n    this.angleOffset = this.props.angleOffset * Math.PI / 180;\n    this.startAngle = 1.5 * Math.PI + this.angleOffset;\n    this.endAngle = 1.5 * Math.PI + this.angleOffset + this.angleArc;\n    this.digits = Math.max(String(Math.abs(this.props.min)).length, String(Math.abs(this.props.max)).length, 2) + 2;\n  }\n\n  componentDidMount() {\n    this.drawCanvas();\n\n    if (!this.props.readOnly) {\n      this.canvasRef.addEventListener('touchstart', this.handleTouchStart, {\n        passive: false\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.width && this.w !== nextProps.width) {\n      this.w = nextProps.width;\n    }\n\n    if (nextProps.height && this.h !== nextProps.height) {\n      this.h = nextProps.height;\n    }\n  }\n\n  componentDidUpdate() {\n    this.drawCanvas();\n  }\n\n  componentWillUnmount() {\n    this.canvasRef.removeEventListener('touchstart', this.handleTouchStart);\n  }\n\n  drawCanvas() {\n    const ctx = this.canvasRef.getContext('2d');\n    const scale = this.getCanvasScale(ctx);\n    this.canvasRef.width = this.w * scale; // clears the canvas\n\n    this.canvasRef.height = this.h * scale;\n    ctx.scale(scale, scale);\n    this.xy = this.w / 2; // coordinates of canvas center\n\n    this.lineWidth = this.xy * this.props.thickness;\n    this.radius = this.xy - this.lineWidth / 2;\n    ctx.lineWidth = this.lineWidth;\n    ctx.lineCap = this.props.lineCap; // background arc\n\n    ctx.beginPath();\n    ctx.strokeStyle = this.props.bgColor;\n    ctx.arc(this.xy, this.xy, this.radius, this.endAngle - 0.00001, this.startAngle + 0.00001, true);\n    ctx.stroke(); // foreground arc\n\n    const a = this.getArcToValue(this.props.value);\n    ctx.beginPath();\n    ctx.strokeStyle = this.props.fgColor;\n    ctx.arc(this.xy, this.xy, this.radius, a.startAngle, a.endAngle, a.acw);\n    ctx.stroke();\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          canvasClassName = _this$props2.canvasClassName,\n          className = _this$props2.className,\n          disableMouseWheel = _this$props2.disableMouseWheel,\n          readOnly = _this$props2.readOnly,\n          title = _this$props2.title,\n          value = _this$props2.value;\n    return React.createElement(\"div\", {\n      className: className,\n      style: {\n        width: this.w,\n        height: this.h,\n        display: 'inline-block'\n      },\n      onWheel: readOnly || disableMouseWheel ? null : this.handleWheel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, React.createElement(\"canvas\", {\n      ref: ref => {\n        this.canvasRef = ref;\n      },\n      className: canvasClassName,\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      onMouseDown: readOnly ? null : this.handleMouseDown,\n      title: title ? \"\".concat(title, \": \").concat(value) : value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }), this.renderCenter());\n  }\n\n}\n\nKnob.propTypes = {\n  value: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onChangeEnd: PropTypes.func,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  step: PropTypes.number,\n  log: PropTypes.bool,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  thickness: PropTypes.number,\n  lineCap: PropTypes.oneOf(['butt', 'round']),\n  bgColor: PropTypes.string,\n  fgColor: PropTypes.string,\n  inputColor: PropTypes.string,\n  font: PropTypes.string,\n  fontWeight: PropTypes.string,\n  clockwise: PropTypes.bool,\n  cursor: PropTypes.oneOfType([PropTypes.number, PropTypes.bool]),\n  stopper: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  disableTextInput: PropTypes.bool,\n  displayInput: PropTypes.bool,\n  displayCustom: PropTypes.func,\n  angleArc: PropTypes.number,\n  angleOffset: PropTypes.number,\n  disableMouseWheel: PropTypes.bool,\n  title: PropTypes.string,\n  className: PropTypes.string,\n  canvasClassName: PropTypes.string\n};\nKnob.defaultProps = {\n  onChangeEnd: () => {},\n  min: 0,\n  max: 100,\n  step: 1,\n  log: false,\n  width: 200,\n  height: 200,\n  thickness: 0.35,\n  lineCap: 'butt',\n  bgColor: '#EEE',\n  fgColor: '#EA2',\n  inputColor: '',\n  font: 'Arial',\n  fontWeight: 'bold',\n  clockwise: true,\n  cursor: false,\n  stopper: true,\n  readOnly: false,\n  disableTextInput: false,\n  displayInput: true,\n  angleArc: 360,\n  angleOffset: 0,\n  disableMouseWheel: false,\n  className: null,\n  canvasClassName: null\n};\nexport default Knob;","map":{"version":3,"sources":["/Users/codychand/Documents/GitHub/ISSP/BCIT_nb_iot/BCIT_nb_iot_forked/vertical/src/containers/charts/knob/Knob.js"],"names":["React","PropTypes","Knob","Component","constructor","props","getArcToValue","v","startAngle","endAngle","angle","log","min","angleArc","max","Math","pow","clockwise","cursor","cursorExt","acw","getCanvasScale","ctx","devicePixelRatio","window","screen","deviceXDPI","logicalXDPI","backingStoreRatio","webkitBackingStorePixelRatio","coerceToStep","val","step","abs","isNaN","round","eventToValue","e","bounds","canvasRef","getBoundingClientRect","x","clientX","left","y","clientY","top","a","atan2","w","angleOffset","PI","handleMouseDown","onChange","document","addEventListener","handleMouseMove","handleMouseUp","handleEsc","preventDefault","onChangeEnd","removeEventListener","handleTouchStart","touchIndex","targetTouches","length","handleTouchMove","passive","handleTouchEnd","keyCode","handleTextInput","target","value","handleWheel","deltaX","deltaY","handleArrowKey","inputStyle","width","height","position","verticalAlign","marginTop","marginLeft","border","background","font","fontWeight","digits","textAlign","color","inputColor","fgColor","padding","WebkitAppearance","renderCenter","displayCustom","displayInput","disableTextInput","readOnly","h","String","componentDidMount","drawCanvas","componentWillReceiveProps","nextProps","componentDidUpdate","componentWillUnmount","getContext","scale","xy","lineWidth","thickness","radius","lineCap","beginPath","strokeStyle","bgColor","arc","stroke","render","canvasClassName","className","disableMouseWheel","title","display","ref","propTypes","number","isRequired","func","bool","oneOf","string","oneOfType","stopper","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Knob extends React.Component {\n    static propTypes = {\n        value: PropTypes.number.isRequired,\n        onChange: PropTypes.func.isRequired,\n        onChangeEnd: PropTypes.func,\n        min: PropTypes.number,\n        max: PropTypes.number,\n        step: PropTypes.number,\n        log: PropTypes.bool,\n        width: PropTypes.number,\n        height: PropTypes.number,\n        thickness: PropTypes.number,\n        lineCap: PropTypes.oneOf(['butt', 'round']),\n        bgColor: PropTypes.string,\n        fgColor: PropTypes.string,\n        inputColor: PropTypes.string,\n        font: PropTypes.string,\n        fontWeight: PropTypes.string,\n        clockwise: PropTypes.bool,\n        cursor: PropTypes.oneOfType([\n            PropTypes.number,\n            PropTypes.bool,\n        ]),\n        stopper: PropTypes.bool,\n        readOnly: PropTypes.bool,\n        disableTextInput: PropTypes.bool,\n        displayInput: PropTypes.bool,\n        displayCustom: PropTypes.func,\n        angleArc: PropTypes.number,\n        angleOffset: PropTypes.number,\n        disableMouseWheel: PropTypes.bool,\n        title: PropTypes.string,\n        className: PropTypes.string,\n        canvasClassName: PropTypes.string,\n    };\n\n    static defaultProps = {\n        onChangeEnd: () => { },\n        min: 0,\n        max: 100,\n        step: 1,\n        log: false,\n        width: 200,\n        height: 200,\n        thickness: 0.35,\n        lineCap: 'butt',\n        bgColor: '#EEE',\n        fgColor: '#EA2',\n        inputColor: '',\n        font: 'Arial',\n        fontWeight: 'bold',\n        clockwise: true,\n        cursor: false,\n        stopper: true,\n        readOnly: false,\n        disableTextInput: false,\n        displayInput: true,\n        angleArc: 360,\n        angleOffset: 0,\n        disableMouseWheel: false,\n        className: null,\n        canvasClassName: null,\n    };\n\n    constructor(props) {\n        super(props);\n        this.w = this.props.width || 200;\n        this.h = this.props.height || this.w;\n        this.cursorExt = this.props.cursor === true ? 0.3 : this.props.cursor / 100;\n        this.angleArc = this.props.angleArc * Math.PI / 180;\n        this.angleOffset = this.props.angleOffset * Math.PI / 180;\n        this.startAngle = (1.5 * Math.PI) + this.angleOffset;\n        this.endAngle = (1.5 * Math.PI) + this.angleOffset + this.angleArc;\n        this.digits = Math.max(\n            String(Math.abs(this.props.min)).length,\n            String(Math.abs(this.props.max)).length,\n            2\n        ) + 2;\n    }\n\n    componentDidMount() {\n        this.drawCanvas();\n        if (!this.props.readOnly) {\n            this.canvasRef.addEventListener('touchstart', this.handleTouchStart, { passive: false });\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.width && this.w !== nextProps.width) {\n            this.w = nextProps.width;\n        }\n        if (nextProps.height && this.h !== nextProps.height) {\n            this.h = nextProps.height;\n        }\n    }\n\n    componentDidUpdate() {\n        this.drawCanvas();\n    }\n\n    componentWillUnmount() {\n        this.canvasRef.removeEventListener('touchstart', this.handleTouchStart);\n    }\n\n    getArcToValue = (v) => {\n        let startAngle;\n        let endAngle;\n        const angle = !this.props.log\n            ? ((v - this.props.min) * this.angleArc) / (this.props.max - this.props.min)\n            : Math.log(Math.pow((v / this.props.min), this.angleArc)) / Math.log(this.props.max / this.props.min);\n        if (!this.props.clockwise) {\n            startAngle = this.endAngle + 0.00001;\n            endAngle = startAngle - angle - 0.00001;\n        } else {\n            startAngle = this.startAngle - 0.00001;\n            endAngle = startAngle + angle + 0.00001;\n        }\n        if (this.props.cursor) {\n            startAngle = endAngle - this.cursorExt;\n            endAngle += this.cursorExt;\n        }\n        return {\n            startAngle,\n            endAngle,\n            acw: !this.props.clockwise && !this.props.cursor,\n        };\n    };\n\n    // Calculate ratio to scale canvas to avoid blurriness on HiDPI devices\n    getCanvasScale = (ctx) => {\n        const devicePixelRatio = window.devicePixelRatio ||\n            window.screen.deviceXDPI / window.screen.logicalXDPI || // IE10\n            1;\n        const backingStoreRatio = ctx.webkitBackingStorePixelRatio || 1;\n        return devicePixelRatio / backingStoreRatio;\n    };\n\n    coerceToStep = (v) => {\n        let val = !this.props.log\n            ? (~~(((v < 0) ? -0.5 : 0.5) + (v / this.props.step))) * this.props.step\n            : Math.pow(this.props.step, ~~(((Math.abs(v) < 1) ? -0.5 : 0.5) + (Math.log(v) / Math.log(this.props.step))));\n        val = Math.max(Math.min(val, this.props.max), this.props.min);\n        if (isNaN(val)) { val = 0; }\n        return Math.round(val * 1000) / 1000;\n    };\n\n    eventToValue = (e) => {\n        const bounds = this.canvasRef.getBoundingClientRect();\n        const x = e.clientX - bounds.left;\n        const y = e.clientY - bounds.top;\n        let a = Math.atan2(x - (this.w / 2), (this.w / 2) - y) - this.angleOffset;\n        if (!this.props.clockwise) {\n            a = this.angleArc - a - (2 * Math.PI);\n        }\n        if (this.angleArc !== Math.PI * 2 && (a < 0) && (a > -0.5)) {\n            a = 0;\n        } else if (a < 0) {\n            a += Math.PI * 2;\n        }\n        const val = !this.props.log\n            ? (a * (this.props.max - this.props.min) / this.angleArc) + this.props.min\n            : Math.pow(this.props.max / this.props.min, a / this.angleArc) * this.props.min;\n        return this.coerceToStep(val);\n    };\n\n    handleMouseDown = (e) => {\n        this.props.onChange(this.eventToValue(e));\n        document.addEventListener('mousemove', this.handleMouseMove);\n        document.addEventListener('mouseup', this.handleMouseUp);\n        document.addEventListener('keyup', this.handleEsc);\n    };\n\n    handleMouseMove = (e) => {\n        e.preventDefault();\n        this.props.onChange(this.eventToValue(e));\n    };\n\n    handleMouseUp = (e) => {\n        this.props.onChangeEnd(this.eventToValue(e));\n        document.removeEventListener('mousemove', this.handleMouseMove);\n        document.removeEventListener('mouseup', this.handleMouseUp);\n        document.removeEventListener('keyup', this.handleEsc);\n    };\n\n    handleTouchStart = (e) => {\n        e.preventDefault();\n        this.touchIndex = e.targetTouches.length - 1;\n        this.props.onChange(this.eventToValue(e.targetTouches[this.touchIndex]));\n        document.addEventListener('touchmove', this.handleTouchMove, { passive: false });\n        document.addEventListener('touchend', this.handleTouchEnd);\n        document.addEventListener('touchcancel', this.handleTouchEnd);\n    };\n\n    handleTouchMove = (e) => {\n        e.preventDefault();\n        this.props.onChange(this.eventToValue(e.targetTouches[this.touchIndex]));\n    };\n\n    handleTouchEnd = (e) => {\n        this.props.onChangeEnd(this.eventToValue(e));\n        document.removeEventListener('touchmove', this.handleTouchMove);\n        document.removeEventListener('touchend', this.handleTouchEnd);\n        document.removeEventListener('touchcancel', this.handleTouchEnd);\n    };\n\n    handleEsc = (e) => {\n        if (e.keyCode === 27) {\n            e.preventDefault();\n            this.handleMouseUp();\n        }\n    };\n\n    handleTextInput = (e) => {\n        const val = Math.max(Math.min(+e.target.value, this.props.max), this.props.min) || this.props.min;\n        this.props.onChange(val);\n    };\n\n    handleWheel = (e) => {\n        e.preventDefault();\n        if (e.deltaX > 0 || e.deltaY > 0) {\n            this.props.onChange(this.coerceToStep(\n                !this.props.log\n                    ? this.props.value + this.props.step\n                    : this.props.value * this.props.step\n            ));\n        } else if (e.deltaX < 0 || e.deltaY < 0) {\n            this.props.onChange(this.coerceToStep(\n                !this.props.log\n                    ? this.props.value - this.props.step\n                    : this.props.value / this.props.step\n            ));\n        }\n    };\n\n    handleArrowKey = (e) => {\n        if (e.keyCode === 37 || e.keyCode === 40) {\n            e.preventDefault();\n            this.props.onChange(this.coerceToStep(\n                !this.props.log\n                    ? this.props.value - this.props.step\n                    : this.props.value / this.props.step\n            ));\n        } else if (e.keyCode === 38 || e.keyCode === 39) {\n            e.preventDefault();\n            this.props.onChange(this.coerceToStep(\n                !this.props.log\n                    ? this.props.value + this.props.step\n                    : this.props.value * this.props.step\n            ));\n        }\n    };\n\n    inputStyle = () => ({\n        width: `${((this.w / 2) + 4) >> 0}px`,\n        height: `${(this.w / 3) >> 0}px`,\n        position: 'absolute',\n        verticalAlign: 'middle',\n        marginTop: `${(this.w / 3) >> 0}px`,\n        marginLeft: `-${((this.w * 3 / 4) + 2) >> 0}px`,\n        border: 0,\n        background: 'none',\n        font: `${this.props.fontWeight} ${(this.w / this.digits) >> 0}px ${this.props.font}`,\n        textAlign: 'center',\n        color: this.props.inputColor || this.props.fgColor,\n        padding: '0px',\n        WebkitAppearance: 'none',\n    });\n\n    drawCanvas() {\n        const ctx = this.canvasRef.getContext('2d');\n        const scale = this.getCanvasScale(ctx);\n        this.canvasRef.width = this.w * scale; // clears the canvas\n        this.canvasRef.height = this.h * scale;\n        ctx.scale(scale, scale);\n        this.xy = this.w / 2; // coordinates of canvas center\n        this.lineWidth = this.xy * this.props.thickness;\n        this.radius = this.xy - (this.lineWidth / 2);\n        ctx.lineWidth = this.lineWidth;\n        ctx.lineCap = this.props.lineCap;\n        // background arc\n        ctx.beginPath();\n        ctx.strokeStyle = this.props.bgColor;\n        ctx.arc(\n            this.xy,\n            this.xy,\n            this.radius,\n            this.endAngle - 0.00001,\n            this.startAngle + 0.00001,\n            true\n        );\n        ctx.stroke();\n        // foreground arc\n        const a = this.getArcToValue(this.props.value);\n        ctx.beginPath();\n        ctx.strokeStyle = this.props.fgColor;\n        ctx.arc(\n            this.xy,\n            this.xy,\n            this.radius,\n            a.startAngle,\n            a.endAngle,\n            a.acw\n        );\n        ctx.stroke();\n    }\n\n    renderCenter = () => {\n        const {\n            displayCustom,\n            displayInput,\n            disableTextInput,\n            readOnly,\n            value,\n        } = this.props;\n\n        if (displayInput) {\n            return (\n                <input\n                    style={this.inputStyle()}\n                    type=\"text\"\n                    value={value}\n                    onChange={this.handleTextInput}\n                    onKeyDown={this.handleArrowKey}\n                    readOnly={readOnly || disableTextInput}\n                />\n            );\n        } else if (displayCustom && typeof displayCustom === 'function') {\n            return displayCustom();\n        }\n        return null;\n    };\n\n    render() {\n        const {\n            canvasClassName,\n            className,\n            disableMouseWheel,\n            readOnly,\n            title,\n            value,\n        } = this.props;\n\n        return (\n            <div\n                className={className}\n                style={{ width: this.w, height: this.h, display: 'inline-block' }}\n                onWheel={readOnly || disableMouseWheel ? null : this.handleWheel}\n            >\n                <canvas\n                    ref={(ref) => { this.canvasRef = ref; }}\n                    className={canvasClassName}\n                    style={{ width: '100%', height: '100%' }}\n                    onMouseDown={readOnly ? null : this.handleMouseDown}\n                    title={title ? `${title}: ${value}` : value}\n                />\n                {this.renderCenter()}\n            </div>\n        );\n    }\n}\n\nexport default Knob;"]},"metadata":{},"sourceType":"module"}